<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>travis fisher</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

<style>
:root{--bg:#0f0f0f;--ink:#f3efe8;--muted:#bdb8ae}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;overflow-x:hidden}

.view{position:absolute;inset:0;opacity:0;pointer-events:none;transition:opacity .5s ease}
.view.active{opacity:1;pointer-events:auto}

/* SCHEDULE STYLING */
.event{
  margin-bottom:40px;
}

.event strong{
  display:block;
  font-size:1.05rem;
  margin-bottom:6px;
}

.event .time{
  font-size:0.9rem;
  color:var(--muted);
  margin-bottom:6px;
}

.event .details{
  font-size:0.95rem;
}

.event .with{
  font-size:0.85rem;
  color:var(--muted);
}

/* HOME */
.home{display:flex;align-items:center;overflow:hidden}
.home-inner{padding:24px;transition:transform .6s ease,opacity .6s ease}
.home-inner.hidden{transform:translateX(-60px);opacity:0}
.name{margin-bottom:10px;color:var(--muted);font-size:1.2rem}
.subtitle{margin-bottom:80px;color:var(--muted);font-size:0.8rem}
.menu{display:flex;flex-direction:column;gap:18px}
.menu button{background:none;border:none;color:var(--ink);font-size:1.1rem;text-align:left;cursor:pointer}

/* SECTION */
.back{position:fixed;top:20px;left:20px;background:none;border:none;color:var(--ink);font-size:1.3rem;cursor:pointer;z-index:20}
.back::before{content:"←"}
section{max-width:760px;padding:140px 24px 100px}

/* COMPOSITIONS */
.composition{margin-bottom:42px}
.controls{display:flex;gap:18px;margin-top:10px}
.play{background:none;border:none;cursor:pointer;color:var(--ink)}
.play svg{width:22px;height:22px}
.play .triangle{fill:none;stroke:currentColor;stroke-width:2}
.play.playing .triangle{fill:currentColor;stroke:none}
.score-btn{background:none;border:1px solid var(--muted);color:var(--ink);padding:6px 12px;cursor:pointer}

/* SCORE */
.score-overlay{position:fixed;inset:0;background:rgba(15,15,15,.96);opacity:0;pointer-events:none;transition:opacity .4s ease;z-index:30}
.score-overlay.active{opacity:1;pointer-events:auto}
.score-close{position:absolute;top:16px;right:16px;background:none;border:none;color:var(--ink);font-size:1.4rem;cursor:pointer;z-index:40}
.score-gallery{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;gap:32px;padding:72px 24px 24px;overflow-x:auto;scroll-snap-type:x mandatory}
.score-page{scroll-snap-align:center;display:flex;justify-content:center}
.score-page canvas{max-width:100vw;height:auto;touch-action:pan-x pinch-zoom}
@media(min-width:900px){.score-gallery{align-items:flex-start}.score-page canvas{max-height:calc(100vh - 120px);width:auto}}

/* ABOUT */
.about-wrap{position:relative;min-height:100vh;display:flex;align-items:center}
.about-track{position:absolute;inset:0;display:flex;width:400%;height:100vh;animation:pan 45s linear infinite}
.about-img{width:100%;height:100vh;background:url('images/about-background.jpg') left center/cover no-repeat}
.about-img.mirror{transform:scaleX(-1)}
.about-text{position:relative;z-index:2;max-width:720px;padding:180px 24px 0}
@keyframes pan{from{transform:translateX(0)}to{transform:translateX(-100%)}}

@media(max-width:600px){.menu button{font-size:1rem}}
</style>
</head>
<body>

<!-- HOME -->
<div id="home" class="view active home">
  <div id="homeInner" class="home-inner">
    <div class="name">travis fisher</div>
    <div class="subtitle">pianist / composer</div>
    <div class="menu">
      <button onclick="openSection('compositions')">compositions</button>
      <button onclick="openSection('schedule')">schedule</button>
      <button onclick="openSection('about')">about</button>
    </div>
  </div>
</div>

<!-- COMPOSITIONS -->
<div id="compositions" class="view" style="overflow-y:auto">
  <button class="back" onclick="goHome()"></button>
  <section id="compositionList"></section>
</div>

<!-- SCHEDULE -->
<div id="schedule" class="view">
  <button class="back" onclick="goHome()"></button>
  <section>
    <p style="margin-bottom:32px">for booking inquiries contact <a href="mailto:booking@travisfisherpiano.com" style="color:var(--ink)">booking@travisfisherpiano.com</a></p>
    <div class="event">
  <strong>jan 5</strong>
  <div class="time">12–4pm</div>
  <div class="details">
    jazz at mountain village core
    <div class="with">with danny d'allesandro</div>
  </div>
</div>

<div class="event">
  <strong>jan 8</strong>
  <div class="time">6-9pm</div>
  <div class="details">
    jazz at the view at mtn lodge
    <div class="with">with danny d'allesandro</div>
  </div>
</div>

<div class="event">
  <strong>jan 15</strong>
  <div class="time">5-7pm</div>
  <div class="details">
    telluride chamber music classical concert at norwood livery
    <div class="with">with danny desantis and steve white</div>
  </div>
</div>
  </section>
</div>

<!-- ABOUT -->
<div id="about" class="view" style="overflow:hidden">
  <button class="back" onclick="goHome()"></button>
  <div class="about-wrap">
    <div class="about-text">
      <p>travis grew up in the high desert of california</p>
      <p>he studied classical piano in los angeles, jazz piano in seattle, and is based now in telluride, colorado</p>
    </div>
    <div class="about-track">
      <div class="about-img"></div>
      <div class="about-img mirror"></div>
    </div>
  </div>
</div>

<!-- SCORE -->
<div id="scoreOverlay" class="score-overlay">
  <button class="score-close" onclick="closeScore()">×</button>
  <div id="scoreGallery" class="score-gallery"></div>
</div>

<script>
pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
let currentAudio=null,currentBtn=null;const playState={};

function openSection(id){
  document.getElementById('homeInner').classList.add('hidden');
  setTimeout(()=>{document.querySelectorAll('.view').forEach(v=>v.classList.remove('active'));document.getElementById(id).classList.add('active')},500)
}
function goHome(){document.querySelectorAll('.view').forEach(v=>v.classList.remove('active'));document.getElementById('home').classList.add('active');document.getElementById('homeInner').classList.remove('hidden')}

function togglePlay(btn,src,key){
  if(currentAudio&&currentBtn!==btn){playState[currentBtn.dataset.key]=currentAudio.currentTime;currentAudio.pause();currentBtn.classList.remove('playing')}
  if(!btn.classList.contains('playing')){currentAudio=new Audio(src);currentAudio.currentTime=playState[key]||0;currentAudio.play();btn.classList.add('playing');currentBtn=btn}else{playState[key]=currentAudio.currentTime;currentAudio.pause();btn.classList.remove('playing')}
}

async function buildCompositions(){
  const titles=['microrecia','hypnostadia','liminetica','nyxophonia','katharia','kyklopalma','aphasia','interstitia','antechronia'];
  const list=document.getElementById('compositionList');
  titles.forEach(async t=>{
    const c=document.createElement('div');c.className='composition';c.innerHTML=`<div>${t}</div><div class=controls></div>`;
    const ctr=c.querySelector('.controls');
    const p=document.createElement('button');p.className='play';p.dataset.key=t;p.innerHTML=`<svg viewBox='0 0 24 24'><polygon class='triangle' points='6,4 20,12 6,20'/></svg>`;
    p.onclick=()=>togglePlay(p,`songs/${t}.mp3`,t);ctr.appendChild(p);
    try{const r=await fetch(`scores/${t}.pdf`,{method:'HEAD'});if(r.ok){const s=document.createElement('button');s.className='score-btn';s.textContent='score';s.onclick=()=>openScore(t);ctr.appendChild(s)}}catch(e){}
    list.appendChild(c)
  })
}

async function openScore(title){
  document.querySelectorAll('.back').forEach(b=>b.style.display='none');
  const gal=document.getElementById('scoreGallery');gal.innerHTML='';
  const pdf=await pdfjsLib.getDocument(`scores/${title}.pdf`).promise;
  for(let i=1;i<=pdf.numPages;i++){
    const page=await pdf.getPage(i);const vp=page.getViewport({scale:1.6});
    const canvas=document.createElement('canvas');canvas.width=vp.width;canvas.height=vp.height;
    await page.render({canvasContext:canvas.getContext('2d'),viewport:vp}).promise;
    const wrap=document.createElement('div');wrap.className='score-page';wrap.appendChild(canvas);gal.appendChild(wrap)
  }
  document.getElementById('scoreOverlay').classList.add('active')
}
function closeScore(){document.getElementById('scoreOverlay').classList.remove('active');document.querySelectorAll('.back').forEach(b=>b.style.display='')}

buildCompositions();
</script>
</body>
</html>